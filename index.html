
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keg</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="./css/styles.css">
</head>

<body>
    
    <div class="dashboard">

        <!-- sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="https://via.placeholder.com/40" alt="Logo" class="logo"> <!-- TODO: logo -->
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="sidebar-link">
                        <a href="#" class="nav-link active" id="sidebarLinkSearch">
                            <i class='bx bx-search'></i>
                            <span>Search</span>
                        </a>
                    </li>
                    <li class="has-submenu sidebar-link">
                        <a href="#" class="nav-link" data-submenu="works" id="sidebarLinkWorks">
                            <i class='bx bx-wrench'></i>
                            <span>Works</span>
                            <span class="count">12</span>
                            <i class='bx bx-chevron-down submenu-arrow'></i>
                        </a>
                        <ul class="submenu" id="works-submenu">
                            <li>
                                <a href="#" class="nav-link" id="submenuWorkInProgress">
                                    <span>Work in progress</span>
                                    <span class="count">4</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="nav-link" id="submenuScheduled">
                                    <span>Scheduled</span>
                                    <span class="count">8</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="sidebar-link">
                        <a href="#" class="nav-link" id="sidebarLinkFavorites">
                            <i class='bx bx-star'></i>
                            <span>Favorites</span>
                        </a>
                    </li>
                    <li class="has-submenu sidebar-link">
                        <a href="#" class="nav-link" data-submenu="profile" id="sidebarLinkProfile">
                            <i class='bx bx-user'></i>
                            <span>Profile</span>
                            <i class='bx bx-chevron-down submenu-arrow'></i>
                        </a>
                        <ul class="submenu" id="profile-submenu">
                            <li><a href="#" class="nav-link" id="submenuPersonalInformation">Personal information</a></li>
                            <li><a href="#" class="nav-link" id="submenuWorksHistory">Works history</a></li>
                            <li><a href="#" class="nav-link" id="submenuSettings">Settings</a></li>
                            <li><a href="#" class="nav-link" id="submenuMessages">Messages</a></li>
                            <li><a href="#" class="nav-link" id="submenuReferFriend">Refer a friend</a></li>
                            <li><a href="#" class="nav-link" id="submenuWallet">Wallet</a></li>
                            <li><a href="#" class="nav-link" id="submenuHelp">Help</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <button class="theme-toggle light-mode active">
                    <i class='bx bx-sun'></i>
                    <span>Light</span>
                </button>
                <button class="theme-toggle dark-mode">
                    <i class='bx bx-moon'></i>
                    <span>Dark</span>
                </button>
            </div>
            <button id="sidebar-close" aria-label="Close Sidebar">
                <i class='bx bx-chevron-left'></i>
            </button>
        </aside>

        <div class="floating-submenu"></div>

        <main class="main-content">

            <header class="main-header">
                <div class="user-profile">
                    <div class="user-info">
                        <h2 class="user-name">John Doe</h2>
                    </div>
                    <img src="https://via.placeholder.com/40" alt="User Avatar" class="user-avatar">
                </div>
            </header>

            <div class="content-area">
                <!-- APP -->
                <h1>Work in progress</h1>
                <div class="main-container">
                    <div class="content">
                        <div class="items-container">
                            <!-- ENGINEER -->
                            <div class="user-box" id="0123456789">
                                <div class="user-box-main">
                                    <img src="https://via.placeholder.com/40" alt="User Avatar" class="user-avatar">
                                    <div>
                                        <h3>User name</h3>
                                        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Similique dicta obcaecati excepturi commodi.</p>
                                    </div>
                                </div>
                                <div class="user-chat-ago">
                                    <p>2d ago</p>
                                </div>
                            </div>
                            <!-- ENGINEER -->
                        </div>
                    </div>
                    <div class="content card user-card open">
                        <!-- CARD -->
                        <div class="card-chat-header">
                            <div class="card-chat-info">
                                <img src="https://via.placeholder.com/40" alt="User Avatar" class="user-avatar">
                                <h3>Engineer name</h3>
                            </div>
                            <div class="card-chat-buttons">
                                <div class="card-chat-button">Add/Schedule Time</div>
                                <div class="card-chat-button negativeBtn">Add/Schedule Time</div>
                            </div>
                            <p>Time remainging: 234 hrs</p>
                        </div>

                        <div class="card-chat-container">
                            <div class="chat-element">
                                Chat212
                            </div>
                            <div class="chat-element outro">
                                asdfasdf
                            </div>
                            <div class="chat-element">
                                asdfasdf
                            </div>
                            <div class="chat-element">
                                aqua
                            </div>
                        </div>

                        <div class="card-data-entry">
                            <div class="file-upload-wrapper">
                                <input type="file" id="fileInput">
                                <label for="fileInput">
                                    <i class='bx bx-image-alt'></i>
                                </label>
                            </div>                           
                            <div class="data-entry-chatbox">
                                <textarea placeholder="Type your message..."></textarea>
                            </div>
                            <i class='bx bxs-send'></i>
                        </div>

                        <!-- MENUCARD -->
                        <div class="menu-card">
                            <div class="normal-container noCursor review-container-menu">
                                <p class="border-bottom">Please rate your experience</p>
                                <div class="menu-card-review">
                                    <div class="review-note">
                                        <h3 id="valueRange">5.0</h3>
                                        <i class='bx bxs-star'></i>
                                    </div>
                                    <div class="menu-range">
                                        <img src="./img/face3.svg" alt="User Avatar" id="userAvatar">
                                        <input class="range50" type="range" id="rangeSlider" min="0" max="100" step="25" value="50">
                                    </div>
                                    <div class="menu-textarea">
                                        <p>Comments: (optional)</p>
                                        <textarea name="review-comments" id="reviewComments"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="menu-button">Submit</div> 
                        </div>

                        <!-- CARD -->
                    </div>
                </div>
                <!-- APP -->
            </div>

        </main>

    </div>

    <script>
        const textarea = document.querySelector('.data-entry-chatbox textarea');
        textarea.addEventListener('input', () => {
            textarea.style.height = '27px'; // Restablece la altura para recalcular
            textarea.style.height = `${textarea.scrollHeight }px`; // Ajusta segÃºn el contenido
        });
        document.querySelector( '.bxs-send' ).addEventListener( 'click', () => {
            textarea.style.height = '27px';
            textarea.value = '';
        });
        // Evento delete y enter

        // OTRO
        const rangeSlider = document.getElementById('rangeSlider');
        const valueRange = document.querySelector( '#valueRange' );
        const userAvatar = document.getElementById('userAvatar');
        const setClassList = ( value ) => {
            rangeSlider.classList.remove( ...rangeSlider.classList );
            rangeSlider.classList.add( `range${ value }` )
        };

        const colors = ['#FF5D5D', '#BE5DFF', '#5DB6FF', '#83FF5D', '#FFD05D'];
        const updateSlider = () => {
            const value = rangeSlider.value;
            const index = Math.floor( value / 25 );  
            console.log( value, index );
            rangeSlider.style.background = `linear-gradient(to right, ${colors[index]} 0%, ${colors[index]} ${value}%, #474b50 ${value}%, #474b50 100%)`;
            userAvatar.src = `./img/face${index + 1}.svg`;
            setClassList( value );
            valueRange.innerHTML = `${ ( value / 25 ) + 1 }.0`;
        }; updateSlider();
        rangeSlider.addEventListener( 'input', updateSlider );


    </script>

    <script src="https://unpkg.com/scrollreveal"></script>
    <script type="module" src="./js/sidebar.js"></script>
    <script type="module" src="./js/render.js"></script>

</body>
</html>
